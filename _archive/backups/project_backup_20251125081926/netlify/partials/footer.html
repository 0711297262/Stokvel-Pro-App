<!-- /mnt/data/netlify/partials/footer.html -->
<style>
  /* Container */
  .glass-nav-wrap{
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    bottom: 18px;
    width: min(980px, calc(100% - 32px));
    z-index: 9999;
    pointer-events: auto;
    display:flex;
    justify-content:center;
    align-items:center;
  }

  /* Bar */
  .glass-nav {
    width:100%;
    background: rgba(255,255,255,0.65);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    backdrop-filter: blur(10px) saturate(120%);
    border-radius: 28px;
    box-shadow: 0 10px 30px rgba(20,30,50,0.12), inset 0 1px 0 rgba(255,255,255,0.6);
    padding: 10px 18px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;
  }

  /* Nav items area (left + center + right layout) */
  .glass-nav .nav-left,
  .glass-nav .nav-center,
  .glass-nav .nav-right {
    display:flex;
    align-items:center;
    gap:8px;
  }

  .nav-left, .nav-right { flex: 1; }
  .nav-center { flex: 0 0 420px; justify-content:center; }

  /* Individual buttons */
  .nav-btn {
    background: transparent;
    border: none;
    padding: 10px 12px;
    border-radius: 12px;
    display:inline-flex;
    gap:8px;
    align-items:center;
    cursor:pointer;
    color: #213043;
    font: 500 13px/1 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    transition: transform .16s ease, box-shadow .16s ease, background .16s ease;
    position: relative;
    min-width: 56px;
    justify-content:center;
  }

  .nav-btn:focus { outline: none; box-shadow: 0 6px 20px rgba(43,93,255,0.12); transform: translateY(-2px); }

  /* icon */
  .nav-icon {
    width:20px;
    height:20px;
    display:block;
    flex-shrink:0;
    stroke: currentColor;
    fill: none;
  }

  /* Active center pill */
  .nav-center .active-pill {
    width: 100%;
    max-width: 480px;
    background: linear-gradient(180deg, rgba(43,119,255,0.12), rgba(43,119,255,0.06));
    border-radius: 16px;
    padding: 8px 14px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:12px;
    box-shadow: 0 8px 28px rgba(43,119,255,0.06);
    transition: transform .18s ease;
  }

  .nav-center .pill-text { font-weight:600; color:#1b3347; font-size:15px; }

  /* Active indicator dot */
  .nav-btn .badge {
    position:absolute;
    top:8px;
    right:8px;
    min-width:18px;
    height:18px;
    padding:0 4px;
    border-radius: 999px;
    background: #ff4757;
    color:white;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:11px;
    font-weight:700;
    box-shadow: 0 3px 10px rgba(0,0,0,0.12);
  }

  /* active state */
  .nav-btn.active, .nav-btn:hover {
    transform: translateY(-4px);
    background: rgba(255,255,255,0.28);
    box-shadow: 0 10px 28px rgba(18,40,80,0.08);
    color: #0b1b2b;
  }

  /* Small labels under icons for small view */
  .nav-label {
    display:none;
    font-size:12px;
    color:var(--text-secondary,#617084);
  }

  /* Responsive behavior */
  @media (max-width:700px){
    .nav-left, .nav-right { display:none; }
    .nav-center { flex: 1; max-width: 100%; padding:0 4px; }
    .nav-btn { min-width:44px; padding:8px; }
    .nav-label { display:block; font-size:11px; margin-top:4px; color:#7f92a0;}
    .nav-center .active-pill { padding:8px; }
  }

  /* dark mode tweak */
  @media (prefers-color-scheme: dark){
    .glass-nav {
      background: rgba(8,12,20,0.36);
      box-shadow: 0 10px 30px rgba(3,6,12,0.6), inset 0 1px 0 rgba(255,255,255,0.03);
    }
    .nav-btn { color: #dfeeff; }
    .nav-center .pill-text { color: #e6f0ff; }
  }
</style>

<nav class="glass-nav">
  <a href="dashboard.html" class="nav-item">
      <span class="icon">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
          <path d="M3 12l9-9 9 9" stroke-width="2"/>
          <path d="M4 10v10h16V10" stroke-width="2"/>
        </svg>
      </span>
      <span>Home</span>
  </a>

  <a href="create_stokvel.html" class="nav-item center-button">
      <div class="center-glass">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
          <path d="M12 5v14M5 12h14" stroke-width="2.2"/>
        </svg>
        <span>Create / Contribute</span>
      </div>
  </a>

  <a href="notifications.html" class="nav-item">
      <span class="icon">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
          <path d="M18 8a6 6 0 10-12 0c0 7-3 9-3 9h18s-3-2-3-9"/>
          <path d="M13.73 21a2 2 0 01-3.46 0"/>
        </svg>
      </span>
      <span>Alerts</span>
  </a>

  <a href="profile.html" class="nav-item">
      <span class="icon">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
          <circle cx="12" cy="8" r="4"/>
          <path d="M6 20c2-3 10-3 12 0"/>
        </svg>
      </span>
      <span>Profile</span>
  </a>
</nav>


<script>
  (function(){
    const root = document.querySelector('.glass-nav-wrap');
    if(!root) return;

    // buttons
    const buttons = Array.from(root.querySelectorAll('.nav-btn[data-nav], .nav-btn[title]'));
    const badgeAlerts = root.querySelector('.badge[data-badge-for="alerts"]');
    const central = document.getElementById('centralAction');

    // set initial active based on current path (naive)
    function setActive(name){
      buttons.forEach(b=>{
        b.classList.toggle('active', b.dataset.nav === name);
        if(b.dataset.nav===name) b.setAttribute('aria-current','page'); else b.removeAttribute('aria-current');
      });
    }

    // Try infer from location.pathname (if pages follow naming)
    const path = (location.pathname||'').split('/').pop();
    if(path){
      if(path.includes('dashboard')) setActive('home');
      else if(path.includes('groups')) setActive('groups');
      else if(path.includes('profile')) setActive('profile');
    }

    // Click handlers (use delegation to avoid overriding existing navigation)
    root.addEventListener('click', (e)=>{
      const btn = e.target.closest('.nav-btn');
      if(!btn) return;
      const nav = btn.dataset.nav;

      // central action: go to create page
      if(btn.id === 'centralAction'){
        e.preventDefault();
        // replace with your create page
        location.href = '/create_stokvel.html';
        return;
      }

      // navigation mapping
      if(nav==='home') location.href = '/dashboard.html';
      else if(nav==='groups') location.href = '/groups.html';
      else if(nav==='alerts') location.href = '/notifications.html';
      else if(nav==='profile') location.href = '/profile.html';
    });

    // keyboard nav
    root.addEventListener('keydown', (e)=>{
      if(!['ArrowLeft','ArrowRight'].includes(e.key)) return;
      const focusable = buttons;
      const idx = focusable.indexOf(document.activeElement);
      let next = 0;
      if(e.key==='ArrowRight') next = Math.min(focusable.length-1, (idx+1));
      else next = Math.max(0, (idx-1));
      focusable[next].focus();
    });

    // Example: function to update badge counts from app
    window._glassNav = {
      setBadge: (key, n) => {
        if(key==='alerts' && badgeAlerts){
          if(!n || n===0){ badgeAlerts.hidden=true; badgeAlerts.textContent='0'; }
          else { badgeAlerts.hidden=false; badgeAlerts.textContent = n>99 ? '99+' : String(n); }
        }
      },
      setActive
    };

    // if you want to map firebase notifications or realtime counts:
    // window._glassNav.setBadge('alerts', 3);

  })();
</script>
