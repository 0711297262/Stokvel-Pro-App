<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Component Gallery v6 — Motion UI (GSAP)</title>

<!-- GSAP CDN (optional network) - will work if you have internet while previewing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>

<style>
  :root{
    --bg-0:#f6f9fc;
    --card:#fff;
    --muted:#7b8a99;
    --brand:#2b7bff;
    --radius:16px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto;
    background:linear-gradient(180deg,#f8fbff,#eef5fb);
    color:#0e2233;
    padding:36px;
  }
  h1{font-size:32px;margin:0 0 6px}
  p.lead{margin:0 0 18px;color:var(--muted)}

  .wrap{max-width:1200px;margin:0 auto}

  .section{
    background:var(--card);
    border-radius:var(--radius);
    padding:20px;
    box-shadow:0 10px 30px rgba(16,30,50,0.06);
    margin-top:20px;
    overflow:visible;
  }

  .row{display:flex;gap:18px;align-items:flex-start}
  .col{flex:1}

  /* Buttons */
  .btn{
    display:inline-flex;align-items:center;gap:10px;
    padding:10px 16px;border-radius:12px;border:0;cursor:pointer;
    font-weight:700;font-size:15px;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .btn:active{transform:translateY(1px)}
  .btn-primary{
    background:linear-gradient(90deg,var(--brand),#5aa7ff);
    color:#fff; box-shadow:0 8px 26px rgba(43,123,255,0.22);
  }
  .btn-ghost{
    background:transparent;border:1px solid rgba(14,34,51,0.06);color:var(--muted);
  }

  /* Animated "pulse" micro UI */
  .pulse {
    display:inline-block;width:44px;height:44px;border-radius:12px;
    background:linear-gradient(180deg,#eaf4ff,#dceeff);
    display:flex;align-items:center;justify-content:center;color:var(--brand);
    box-shadow:0 8px 28px rgba(43,123,255,0.06);
  }

  /* Cards */
  .card{
    background:var(--card);border-radius:14px;padding:16px;
    box-shadow:0 8px 26px rgba(10,20,30,0.04);
  }

  /* KPI */
  .kpi{display:flex;gap:12px;align-items:center}
  .kpi .value{font-size:28px;font-weight:800;color:var(--brand)}

  /* Payout widget animated progress */
  .payout {
    display:flex;align-items:center;justify-content:space-between;gap:16px;
    padding:14px;border-radius:14px;background:linear-gradient(180deg,#fff,#fbfdff);
  }
  .progress {
    width:220px;height:10px;border-radius:999px;background:#eef6ff;overflow:hidden;
  }
  .progress .bar{height:100%;width:0;background:linear-gradient(90deg,var(--brand),#77b1ff);}

  /* skeleton */
  .skeleton{height:10px;border-radius:8px;background:linear-gradient(90deg,#ececec,#f6f6f6,#ececec);background-size:200%;}
  @keyframes shimmer{from{background-position:200%}to{background-position:-200%}}
  .skeleton.anim{animation:shimmer 1.4s linear infinite}

  /* nav-preview with subtle motion target */
  .nav-preview{
    display:flex;align-items:center;justify-content:space-between;padding:14px;border-radius:20px;
    background:rgba(255,255,255,0.6);backdrop-filter:blur(8px);
    box-shadow:0 12px 30px rgba(10,20,30,0.06);
  }
  .nav-item{display:flex;flex-direction:column;align-items:center;color:var(--muted);font-weight:700}
  .nav-item.active{color:var(--brand)}
  .nav-item svg{width:22px;height:22px}

  /* small helpers */
  .mb12{margin-bottom:12px}
  .mt8{margin-top:8px}
  .muted{color:var(--muted)}
</style>
</head>
<body>
  <div id="headerContainer"></div>
    <script src="/devtools/devtools_loader.js" defer></script>
<script src="/devtools/use_real_theme.js" defer></script>
<script src="/devtools/motion_presets.js"></script>
  <div class="wrap">
    <h1>Component Gallery v6 — Motion UI</h1>
    <p class="lead">Micro-interactions & motion-driven defaults (GSAP). Works offline with CSS fallbacks.</p>

    <!-- Buttons + micro interactions -->
    <div class="section" id="buttons-section">
      <div class="row">
        <div class="col">
          <div class="mb12"><strong>Primary / Ghost</strong></div>
          <button class="btn btn-primary" id="primaryBtn">
            <span class="pulse" id="primaryPulse">+</span>
            Primary Action
          </button>
          <button class="btn btn-ghost" id="ghostBtn">Ghost Button</button>
        </div>

        <div class="col">
          <div class="mb12"><strong>Animated KPI</strong></div>
          <div class="card kpi" id="kpiAnimated">
            <div>
              <div class="muted">Total Groups</div>
              <div class="value" id="kpiValue">0</div>
            </div>
            <div class="muted">● Live</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Inputs & toggle -->
    <div class="section" id="forms-section">
      <div style="display:flex;gap:18px;align-items:flex-start">
        <div style="flex:1">
          <div class="mb12"><strong>Inputs</strong></div>
          <div class="card">
            <input class="input" id="phone" placeholder="+27 82 000 0000" style="padding:12px;border-radius:10px;border:1px solid rgba(10,20,30,0.06);width:100%">
            <div class="mt8">
              <input id="amount" placeholder="R 0.00" style="padding:12px;border-radius:10px;border:1px solid rgba(10,20,30,0.06);width:100%">
            </div>
          </div>
        </div>

        <div style="width:220px">
          <div class="mb12"><strong>Toggle</strong></div>
          <div class="card" style="display:flex;align-items:center;justify-content:center;height:100%">
            <label style="display:inline-flex;align-items:center;gap:12px;cursor:pointer">
              <div style="font-weight:700">Auto Payout</div>
              <div class="toggle" id="toggleWrap">
                <input id="toggleInput" type="checkbox" checked>
                <span class="toggle-slider"></span>
              </div>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Payout widget with animated progress -->
    <div class="section">
      <div class="mb12"><strong>Payout widget (animated)</strong></div>
      <div class="payout" id="payoutWidget">
        <div>
          <div class="muted">Next payout</div>
          <div style="font-weight:800;font-size:20px">12 Aug</div>
        </div>
        <div style="flex:1;margin:0 16px">
          <div class="progress" aria-hidden="true">
            <div class="bar" id="progressBar"></div>
          </div>
          <div class="muted mt8" id="progressText">0% distributed</div>
        </div>
        <div>
          <button class="btn btn-primary" id="manageCycle">Manage</button>
        </div>
      </div>
    </div>

    <!-- Skeleton -->
    <div class="section">
      <div class="mb12"><strong>Skeleton placeholder</strong></div>
      <div class="card">
        <div class="skeleton anim" style="width:60%"></div>
        <div class="skeleton anim" style="width:90%"></div>
        <div class="skeleton anim" style="width:40%"></div>
      </div>
    </div>

    <!-- Nav preview -->
    <div class="section nav-preview" id="navPreview">
      <div class="nav-item" data-nav="home">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 12l9-9 9 9" stroke-width="1.6"/></svg>
        <div style="font-size:13px">Home</div>
      </div>
      <div class="nav-item" data-nav="groups">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 2v20" stroke-width="1.6"/></svg>
        <div style="font-size:13px">Create</div>
      </div>
      <div class="nav-item" data-nav="alerts">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 8a6 6 0 10-12 0" stroke-width="1.6"/></svg>
        <div style="font-size:13px">Alerts</div>
      </div>
      <div class="nav-item" data-nav="profile">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="8" r="4" stroke-width="1.6"/></svg>
        <div style="font-size:13px">Profile</div>
      </div>
    </div>

  </div>

<script>
// Helper: safe-GSAP presence check (falls back if unavailable)
function withGsap(cb){
  if(window.gsap) return cb(window.gsap);
  // minimal fallback: return an object that mimics api used
  return cb({
    to: (target, opts) => {
      // CSS fallback: apply end state immediately
      try{
        if(target instanceof Element) {
          if(opts && opts.css) Object.assign(target.style, opts.css);
          if(opts && opts.opacity !== undefined) target.style.opacity = opts.opacity;
        } else if(target instanceof Array || NodeList.prototype.isPrototypeOf(target)){
          Array.from(target).forEach(t=>{
            if(opts && opts.css) Object.assign(t.style, opts.css);
            if(opts && opts.opacity !== undefined) t.style.opacity = opts.opacity;
          });
        }
      }catch(e){}
      return { then: (fn)=>fn() };
    },
    fromTo: (t,f,to,opts)=>({ then: (fn)=>fn() }),
    timeline: () => ({to:()=>{}, fromTo:()=>{}})
  });
}

/* Micro-interactions */
document.addEventListener('DOMContentLoaded', ()=>{

  // primary button micro bounce + pulse
  const primary = document.getElementById('primaryBtn');
  const pulse = document.getElementById('primaryPulse');
  withGsap((gsap)=>{
    // entrance appearance
    try{
      gsap.from(primary, { duration: 0.8, y: 18, opacity: 0, ease: "power3.out" });
      gsap.from(pulse, { duration: 0.9, scale: 0.6, opacity: 0, ease: "elastic.out(1,0.6)" });
    }catch(e){}
  });

  primary.addEventListener('mouseenter', ()=>{
    withGsap((gsap)=> gsap.to(primary, { duration:0.28, scale:1.03, boxShadow:"0 14px 40px rgba(43,123,255,0.18)" }));
  });
  primary.addEventListener('mouseleave', ()=>{
    withGsap((gsap)=> gsap.to(primary, { duration:0.28, scale:1, boxShadow:"0 8px 26px rgba(43,123,255,0.22)" }));
  });

  // ghost button subtle slide on hover
  const ghost = document.getElementById('ghostBtn');
  ghost.addEventListener('mouseenter', ()=> withGsap(g=>g.to(ghost,{duration:.22,y:-3,opacity:1})));
  ghost.addEventListener('mouseleave', ()=> withGsap(g=>g.to(ghost,{duration:.22,y:0})));

  // KPI count up example
  const kpiValue = document.getElementById('kpiValue');
  const kpiTarget = 6;
  let current = 0;
  const kpiInterval = setInterval(()=>{
    current++;
    kpiValue.textContent = current;
    if(current>=kpiTarget) clearInterval(kpiInterval);
  }, 200);

  // payout progress animation
  const bar = document.getElementById('progressBar');
  const progressText = document.getElementById('progressText');
  let progress = 0;
  const progTick = setInterval(()=>{
    progress += Math.random()*6 + 4; // random easing for demo
    if(progress>100) progress=100;
    const w = Math.round(progress);
    withGsap((gsap)=> gsap.to(bar, { duration: 0.9, css: { width: w + '%' } }));
    progressText.textContent = `${w}% distributed`;
    if(w>=100) clearInterval(progTick);
  }, 900);

  // nav item hover / active demo
  const navItems = document.querySelectorAll('.nav-item');
  navItems.forEach((it, i)=>{
    it.addEventListener('click', ()=>{
      navItems.forEach(n=>n.classList.remove('active'));
      it.classList.add('active');
      // small jig animation
      withGsap((gsap)=> gsap.fromTo(it, {y:-6,opacity:0.7}, {duration:.4,y:0,opacity:1,ease:"bounce.out"}));
    });
    it.addEventListener('mouseenter', ()=> withGsap(g=>g.to(it,{duration:.18,scale:1.04})));
    it.addEventListener('mouseleave', ()=> withGsap(g=>g.to(it,{duration:.18,scale:1})));
    // seed default active
    if(i===0) it.classList.add('active');
  });

  // toggle micro animation (visual only; input handles checked state)
  const toggleInput = document.getElementById('toggleInput');
  const toggleWrap = document.getElementById('toggleWrap');
  toggleWrap.addEventListener('click', ()=>{
    setTimeout(()=>{ // let the checkbox state update
      const isOn = toggleInput.checked;
      withGsap(g=> g.to(toggleWrap, {duration:.28, scale: isOn ? 1.02 : 0.98}));
    }, 50);
  });

  // Manage button pulse hint
  const manage = document.getElementById('manageCycle');
  manage.addEventListener('mouseenter', ()=> withGsap(g=>g.to(manage,{duration:.22,scale:1.03})));
  manage.addEventListener('mouseleave', ()=> withGsap(g=>g.to(manage,{duration:.22,scale:1})));

  // small entrance for entire content
  const sections = document.querySelectorAll('.section');
  sections.forEach((s, idx)=>{
    withGsap((g)=> g.from(s, { duration: .8, y: 24, opacity: 0, delay: idx*0.06, ease: "power3.out" }));
  });

}); // DOMContentLoaded
</script>
  <div id="footerContainer"></div>
  <div id="bottomNavContainer"></div>
  <script type="module" src="/js/load-partials.js"></script>
</body>
</html>
